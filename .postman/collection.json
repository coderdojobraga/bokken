{
	"info": {
		"_postman_id": "6f410fa7-6468-4358-8372-84752d562888",
		"name": "Bokken - Documentation",
		"description": "Bokken is the backend platform for managing session registrations and recording ninjas' progress for [CoderDojo Braga](https://coderdojobraga.org).",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Accounts",
			"item": [
				{
					"name": "Auth",
					"item": [
						{
							"name": "Sign up",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Sign up status is OK\", function(){",
											"    pm.response.to.have.status(201);",
											"})",
											"",
											"pm.test(\"Token with set-cookie is present\", function () {",
											"    pm.response.to.have.header(\"set-cookie\");",
											"});",
											"",
											"pm.test(\"User is not registered\", function () {",
											"    pm.expect(pm.response.json().registered).to.eql(false);",
											"});",
											"",
											"const token = pm.response.headers.get(\"set-cookie\").split(\"=\")[1]",
											"pm.environment.set(\"token\", token);",
											"",
											"user_id = pm.response.json().id",
											"pm.environment.set(\"user_id\", user_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"{{$randomEmail}}\",\n    \"password\": \"password1234\",\n    \"role\": \"mentor\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/auth/sign_up",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"auth",
										"sign_up"
									]
								},
								"description": "The signup sets an auth cookie in all the following requests."
							},
							"response": [
								{
									"name": "Sign up",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"{{$randomEmail}}\",\n    \"password\": \"password1234\",\n    \"role\": \"mentor\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/api/auth/sign_up",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"auth",
												"sign_up"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "cache-control",
											"value": "max-age=0, private, must-revalidate"
										},
										{
											"key": "content-length",
											"value": "151"
										},
										{
											"key": "content-type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "date",
											"value": "Wed, 26 May 2021 15:24:06 GMT"
										},
										{
											"key": "server",
											"value": "Cowboy"
										},
										{
											"key": "x-request-id",
											"value": "FoKnMUCp4EEukywAAAAk"
										},
										{
											"key": "set-cookie",
											"value": "_bokken_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAZ9leUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaFkzUnBkbVVpT21aaGJITmxMQ0poZFdRaU9pSmliMnRyWlc0aUxDSmxlSEFpT2pFMk1qUTBOakU0TkRjc0ltbGhkQ0k2TVRZeU1qQTBNalkwTnl3aWFYTnpJam9pWW05cmEyVnVJaXdpYW5ScElqb2lZelppWlRVd1kyRXROVEkyTlMwME9EWTVMV0V3TnpJdFlXVm1aR1ZpTlRJM1lqUTFJaXdpYm1KbUlqb3hOakl5TURReU5qUTJMQ0p5YjJ4bElqb2liV1Z1ZEc5eUlpd2ljM1ZpSWpvaVpHTmhOalV4TWpRdE0yVTBPQzAwT0RFM0xUazFNbUl0TVRSak1EUXpZamMzT0dWaUlpd2lkSGx3SWpvaVlXTmpaWE56SW4wLmZNZW1neFBEdGdHR1ZjMnhBbXA0R2xKbnV2b01zNkRUcThjZkJMLTlCeDNuWUprRzh6SEIyWFZKYktTUzBfamhmMzNsNWlrREdQWFNkQ1FIMGc2d0pB.qzMEtQ9ilri4BvJ_MIXhHNMlOTyIo4OhSyb6Wwnbr80; path=/; secure; HttpOnly; SameSite=None"
										}
									],
									"cookie": [],
									"body": "{\n    \"active\": false,\n    \"email\": \"Maximillia.Bartell@yahoo.com\",\n    \"id\": \"dca65124-3e48-4817-952b-14c043b778eb\",\n    \"registered\": false,\n    \"role\": \"mentor\",\n    \"verified\": false\n}"
								}
							]
						},
						{
							"name": "Sign out",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.environment.unset(\"token\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/api/auth/sign_out",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"auth",
										"sign_out"
									]
								}
							},
							"response": []
						},
						{
							"name": "Sign in",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Test Sign in\", function(){",
											"    pm.response.to.have.status(200);",
											"})",
											"",
											"pm.test(\"set-cookie is present\", function () {",
											"    pm.response.to.have.header(\"set-cookie\");",
											"});",
											"",
											"pm.test(\"user is registered\", function () {",
											"    pm.expect(pm.response.json().registered).to.eql(true);",
											"});",
											"",
											"const token = pm.response.headers.get(\"set-cookie\").split(\"=\")[1]",
											"pm.environment.set(\"token\", token);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"peterpan@mail.com\",\n    \"password\": \"password1234\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/auth/sign_in",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"auth",
										"sign_in"
									]
								},
								"description": "The signup sets an auth cookie in all the following requests."
							},
							"response": [
								{
									"name": "Sign in as Registered Mentor",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"peterpan@mail.com\",\n    \"password\": \"password1234\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/api/auth/sign_in",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"auth",
												"sign_in"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "cache-control",
											"value": "max-age=0, private, must-revalidate"
										},
										{
											"key": "content-length",
											"value": "358"
										},
										{
											"key": "content-type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "date",
											"value": "Wed, 26 May 2021 15:24:10 GMT"
										},
										{
											"key": "server",
											"value": "Cowboy"
										},
										{
											"key": "x-request-id",
											"value": "FoKnMmCVXZma0mAAAAAi"
										},
										{
											"key": "set-cookie",
											"value": "_bokken_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAZ5leUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaFkzUnBkbVVpT25SeWRXVXNJbUYxWkNJNkltSnZhMnRsYmlJc0ltVjRjQ0k2TVRZeU5EUTJNVGcxTVN3aWFXRjBJam94TmpJeU1EUXlOalV4TENKcGMzTWlPaUppYjJ0clpXNGlMQ0pxZEdraU9pSmtaV1JsWkdSak15MWxabVUxTFRRNVlXSXRZVEU1WmkwMU1qRm1NMkZqWWpOalpXSWlMQ0p1WW1ZaU9qRTJNakl3TkRJMk5UQXNJbkp2YkdVaU9pSnRaVzUwYjNJaUxDSnpkV0lpT2lKa1kyRmtZelV6Tnkwek9XVTNMVFF4TURZdFlURXhNUzFqWXpoa056SmlaalJsTWpFaUxDSjBlWEFpT2lKaFkyTmxjM01pZlEuaGFlczlqbDZHMU9ZdzJuTW1ZUnpsTF9GUEFPVWp3SkRmaXFpbExteWEwTGp4LWZQSXVjNG9jbnMteWM3b1dIVV8xUHNRTlJrWTkwSWRHR3p4R3RNRGc.m-I1FfS-vygNBFh_uEWbxGeJhiNG7EzQ7yZY_F7lHUU; path=/; secure; HttpOnly; SameSite=None"
										}
									],
									"cookie": [],
									"body": "{\n    \"active\": true,\n    \"birthday\": \"2008-01-24\",\n    \"email\": \"peterpan@mail.com\",\n    \"first_name\": \"Peter\",\n    \"id\": \"dcadc537-39e7-4106-a111-cc8d72bf4e21\",\n    \"last_name\": \"Pan\",\n    \"major\": null,\n    \"mentor_id\": \"ae8a5c03-8462-4380-b226-b83d9cf7c9c9\",\n    \"mobile\": \"+351 911646914\",\n    \"photo\": \"https://robohash.org/Peter-Pan\",\n    \"registered\": true,\n    \"role\": \"mentor\",\n    \"socials\": [],\n    \"trial\": false,\n    \"verified\": true\n}"
								}
							]
						},
						{
							"name": "Verify Account",
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"token\": \"{{confirmation_token}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/auth/verify",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"auth",
										"verify"
									]
								}
							},
							"response": [
								{
									"name": "Verify Account",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"token\": \"{{confirmation_token}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/api/auth/verify",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"auth",
												"verify"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "cache-control",
											"value": "max-age=0, private, must-revalidate"
										},
										{
											"key": "content-length",
											"value": "127"
										},
										{
											"key": "content-type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "date",
											"value": "Mon, 24 May 2021 00:02:11 GMT"
										},
										{
											"key": "server",
											"value": "Cowboy"
										},
										{
											"key": "x-request-id",
											"value": "FoHXuWAaBchT4qwAAAGB"
										},
										{
											"key": "set-cookie",
											"value": "_bokken_key=SFMyNTY.g3QAAAABbQAAABZndWFyZGlhbl9kZWZhdWx0X3Rva2VubQAAAZ9leUpoYkdjaU9pSklVelV4TWlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaFkzUnBkbVVpT21aaGJITmxMQ0poZFdRaU9pSmliMnRyWlc0aUxDSmxlSEFpT2pFMk1qUXlNek0zTXpJc0ltbGhkQ0k2TVRZeU1UZ3hORFV6TWl3aWFYTnpJam9pWW05cmEyVnVJaXdpYW5ScElqb2laVFJsT0dOallUQXRZV0prWWkwMFpqUXhMVGt3WVRrdE9Ea3haVE5pTWpreFpESXhJaXdpYm1KbUlqb3hOakl4T0RFME5UTXhMQ0p5YjJ4bElqb2liV1Z1ZEc5eUlpd2ljM1ZpSWpvaVltSTBaalUxT1RrdFpEQTVNeTAwWTJObUxUaGtZVEV0TnpJd01EQXdPVEJpTURVeUlpd2lkSGx3SWpvaVlXTmpaWE56SW4wLjdvTzNFRkxjR0l6V1dVVDkyUDRNX09DWno0dGM5LVotZTBPUU0xcUxzLTFiWTROUUhzeVJzc0VJZ0Z3RmxaYnV6ZkZpSC03d2pFelpKY0hCbHo3aHR3.Y_SNuodC9S-E3S2n1GZjagNfM6kDiH88L96MPvxaOR8; path=/; secure; HttpOnly; SameSite=None"
										}
									],
									"cookie": [],
									"body": "{\n    \"active\": false,\n    \"email\": \"Loy_Hudson48@hotmail.com\",\n    \"id\": \"bb4f5599-d093-4ccf-8da1-72000090b052\",\n    \"role\": \"mentor\",\n    \"registered\": false,\n    \"verified\": true\n}"
								},
								{
									"name": "Verify Account with expired token",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"token\": \"{{confirmation_token}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/api/auth/verify",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"auth",
												"verify"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "cache-control",
											"value": "max-age=0, private, must-revalidate"
										},
										{
											"key": "content-length",
											"value": "36"
										},
										{
											"key": "content-type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "date",
											"value": "Mon, 24 May 2021 09:54:12 GMT"
										},
										{
											"key": "server",
											"value": "Cowboy"
										},
										{
											"key": "x-request-id",
											"value": "FoH4B4wxFZc0L-cAAAKC"
										}
									],
									"cookie": [],
									"body": "{\n    \"errors\": {\n        \"detail\": \"Unauthorized\"\n    }\n}"
								},
								{
									"name": "Verify Account with wrong email (should never happen anyway)",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"token\": \"{{confirmation_token}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/api/auth/verify",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"auth",
												"verify"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "cache-control",
											"value": "max-age=0, private, must-revalidate"
										},
										{
											"key": "content-length",
											"value": "33"
										},
										{
											"key": "content-type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "date",
											"value": "Mon, 24 May 2021 10:05:33 GMT"
										},
										{
											"key": "server",
											"value": "Cowboy"
										},
										{
											"key": "x-request-id",
											"value": "FoH4pkt5J1MtnpMAAAVh"
										}
									],
									"cookie": [],
									"body": "{\n    \"errors\": {\n        \"detail\": \"Not Found\"\n    }\n}"
								}
							]
						},
						{
							"name": "Resend verification email",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{host}}/api/auth/resend",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"auth",
										"resend"
									]
								}
							},
							"response": [
								{
									"name": "Verification email resent",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{host}}/api/auth/resend",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"auth",
												"resend"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "cache-control",
											"value": "max-age=0, private, must-revalidate"
										},
										{
											"key": "content-length",
											"value": "0"
										},
										{
											"key": "date",
											"value": "Mon, 24 May 2021 10:09:19 GMT"
										},
										{
											"key": "server",
											"value": "Cowboy"
										},
										{
											"key": "x-request-id",
											"value": "FoH42r0bTdIPDiIAAAHh"
										}
									],
									"cookie": [],
									"body": null
								},
								{
									"name": "Verification email not sent because email is already verified",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{host}}/api/auth/resend",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"auth",
												"resend"
											]
										}
									},
									"status": "No Content",
									"code": 204,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "cache-control",
											"value": "max-age=0, private, must-revalidate"
										},
										{
											"key": "date",
											"value": "Mon, 24 May 2021 10:11:43 GMT"
										},
										{
											"key": "server",
											"value": "Cowboy"
										},
										{
											"key": "x-request-id",
											"value": "FoH4_IWRmY5fEDcAAACj"
										}
									],
									"cookie": [],
									"body": null
								}
							]
						},
						{
							"name": "Get current User",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"mentor_id = pm.response.json().id",
											"pm.environment.set(\"mentor_id\", mentor_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/auth/me",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"auth",
										"me"
									]
								}
							},
							"response": [
								{
									"name": "Mentor before register",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/api/auth/me",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"auth",
												"me"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "cache-control",
											"value": "max-age=0, private, must-revalidate"
										},
										{
											"key": "content-length",
											"value": "127"
										},
										{
											"key": "content-type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "date",
											"value": "Mon, 24 May 2021 00:02:29 GMT"
										},
										{
											"key": "server",
											"value": "Cowboy"
										},
										{
											"key": "x-request-id",
											"value": "FoHXvYx3Rbr1FHgAAAFD"
										}
									],
									"cookie": [],
									"body": "{\n    \"active\": false,\n    \"email\": \"Loy_Hudson48@hotmail.com\",\n    \"id\": \"bb4f5599-d093-4ccf-8da1-72000090b052\",\n    \"role\": \"mentor\",\n    \"verified\": true,\n    \"registered\": false\n}"
								},
								{
									"name": "Mentor after register",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{host}}/api/auth/me",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"auth",
												"me"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "cache-control",
											"value": "max-age=0, private, must-revalidate"
										},
										{
											"key": "content-length",
											"value": "340"
										},
										{
											"key": "content-type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "date",
											"value": "Mon, 24 May 2021 00:03:04 GMT"
										},
										{
											"key": "server",
											"value": "Cowboy"
										},
										{
											"key": "x-request-id",
											"value": "FoHXxcLRWuNqxlUAAABC"
										}
									],
									"cookie": [],
									"body": "{\n    \"active\": true,\n    \"birthday\": \"1997-03-20\",\n    \"email\": \"peterpan@mail.com\",\n    \"first_name\": \"Peter\",\n    \"id\": \"b9f9582b-5e98-4b4e-b4d6-4c55eb25c464\",\n    \"last_name\": \"Pan\",\n    \"major\": null,\n    \"mentor_id\": \"7f34a42f-ff51-412d-b397-9c78443b1f06\",\n    \"mobile\": \"+351 964428503\",\n    \"photo\": \"https://robohash.org/Peter-Pan\",\n    \"role\": \"mentor\",\n    \"socials\": [],\n    \"trial\": false,\n    \"verified\": true,\n    \"registered\": true\n}"
								}
							]
						}
					]
				},
				{
					"name": "Mentors",
					"item": [
						{
							"name": "List Mentors",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var template = `",
											"    <table bgcolor=\"#FFFFFF\">",
											"        <tr>",
											"            <th>Photo</th>",
											"            <th>Name</th>",
											"            <th>Mobile</th>",
											"            <th>Birthday</th>",
											"            <th>Major</th>",
											"            <th>Trial</th>",
											"        </tr>",
											"",
											"        {{#each response}}",
											"            <tr>",
											"                <td><img height=100 src=\"{{photo}}\" /></td>",
											"                <td>{{first_name}} {{last_name}}</td>",
											"                <td>{{mobile}}</td>",
											"                <td>{{birthday}}</td>",
											"                <td>{{major}}</td>",
											"                <td>{{trial}}</td>",
											"            </tr>",
											"        {{/each}}",
											"    </table>",
											"`;",
											"",
											"// Set visualizer",
											"pm.visualizer.set(template, {",
											"    // Pass the response body parsed as JSON as `data`",
											"    response: pm.response.json().data",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/mentors",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"mentors"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create a Mentor with avatar",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"mentor_assistant_id = pm.response.json().data.id",
											"pm.environment.set(\"mentor_assistant_id\", mentor_assistant_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "mentor[photo]",
											"type": "file",
											"src": ".postman/avatar.png"
										},
										{
											"key": "mentor[first_name]",
											"value": "Nelson",
											"type": "text"
										},
										{
											"key": "mentor[last_name]",
											"value": "Estevão",
											"type": "text"
										},
										{
											"key": "mentor[mobile]",
											"value": "+351 914 360 875",
											"type": "text"
										},
										{
											"key": "mentor[major]",
											"value": "Engenharia Informática",
											"type": "text"
										},
										{
											"key": "mentor[user_id]",
											"value": "{{user_id}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}/api/mentors",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"mentors"
									]
								}
							},
							"response": []
						},
						{
							"name": "Can't create a Mentor with same user_id",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"var template = `",
											"    <table bgcolor=\"#FFFFFF\">",
											"        <tr>",
											"            <th>Photo</th>",
											"            <th>Name</th>",
											"            <th>Mobile</th>",
											"            <th>Birthday</th>",
											"            <th>Major</th>",
											"            <th>Trial</th>",
											"        </tr>",
											"",
											"            <tr>",
											"                <td><img height=100 src=\"{{photo}}\" /></td>",
											"                <td>{{first_name}} {{last_name}}</td>",
											"                <td>{{mobile}}</td>",
											"                <td>{{birthday}}</td>",
											"                <td>{{major}}</td>",
											"                <td>{{trial}}</td>",
											"            </tr>",
											"    </table>",
											"`;",
											"",
											"// Set visualizer",
											"pm.visualizer.set(template, {",
											"    // Pass the response body parsed as JSON as `data`",
											"    response: pm.response.json().data",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"mentor\": {\n        \"first_name\": \"{{$randomFirstName}}\",\n        \"last_name\": \"{{$randomLastName}}\",\n        \"mobile\": \"+351 912 345 678\",\n        \"birthday\": \"1995-03-29\",\n        \"major\": \"{{$randomJobTitle}}\",\n        \"user_id\": \"{{user_id}}\",\n        \"trial\": true,\n        \"socials\": [\n            {\n                \"name\": \"github\",\n                \"username\": \"nelsonmestevao\"\n            },\n            {\n                \"name\": \"scratch\",\n                \"username\": \"nelsonmestevao\"\n            },\n            {\n                \"name\": \"gitlab\",\n                \"username\": \"nelsonmestevao\"\n            }\n        ]\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/mentors",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"mentors"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Guardians",
					"item": [
						{
							"name": "List Guardians",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var template = `",
											"    <table bgcolor=\"#FFFFFF\">",
											"        <tr>",
											"            <th>Photo</th>",
											"            <th>Name</th>",
											"            <th>Mobile</th>",
											"            <th>City</th>",
											"        </tr>",
											"",
											"        {{#each response}}",
											"            <tr>",
											"                <td><img height=100 src=\"{{photo}}\" /></td>",
											"                <td>{{first_name}} {{last_name}}</td>",
											"                <td>{{mobile}}</td>",
											"                <td>{{city}}</td>",
											"            </tr>",
											"        {{/each}}",
											"    </table>",
											"`;",
											"",
											"// Set visualizer",
											"pm.visualizer.set(template, {",
											"    // Pass the response body parsed as JSON as `data`",
											"    response: pm.response.json().data",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/guardians",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"guardians"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create a valid Guardian",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"guardian\": {\n        \"first_name\": \"Nelson\",\n        \"last_name\": \"de Oliveira\",\n        \"mobile\": \"+351 912345678\",\n        \"user_id\": \"{{user_id}}\",\n        \"city\": \"Vieira do Minho\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/guardians",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"guardians"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update Guardian's photo",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const token = pm.environment.get(\"token\");",
											"",
											"let utils = eval(pm.environment.get(\"utils\"))().requests;",
											"",
											"pm.sendRequest({",
											"    url: `${pm.environment.replaceIn('{{host}}')}/api/guardians`,",
											"    method: 'GET',",
											"    header: {",
											"        'Content-Type': 'application/json',",
											"        'Cookie': `_bokken_key=${token}`",
											"    },",
											"}, utils.get_guardian);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "guardian[photo]",
											"type": "file",
											"src": ".postman/avatar.png"
										}
									]
								},
								"url": {
									"raw": "{{host}}/api/guardians/{{guardian_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"guardians",
										"{{guardian_id}}"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Ninjas",
					"item": [
						{
							"name": "List Ninjas",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var template = `",
											"    <table bgcolor=\"#FFFFFF\">",
											"        <tr>",
											"            <th>Photo</th>",
											"            <th>Name</th>",
											"            <th>Mobile</th>",
											"            <th>City</th>",
											"        </tr>",
											"",
											"        {{#each response}}",
											"            <tr>",
											"                <td><img height=100 src=\"{{photo}}\" /></td>",
											"                <td>{{first_name}} {{last_name}}</td>",
											"                <td>{{mobile}}</td>",
											"                <td>{{city}}</td>",
											"            </tr>",
											"        {{/each}}",
											"    </table>",
											"`;",
											"",
											"// Set visualizer",
											"pm.visualizer.set(template, {",
											"    // Pass the response body parsed as JSON as `data`",
											"    response: pm.response.json().data",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/ninjas",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"ninjas"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Organizer",
					"item": [
						{
							"name": "List Organizers",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/organizers",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"organizers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Organizer",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const token = pm.environment.get(\"token\");",
											"",
											"let utils = eval(pm.environment.get(\"utils\"))().requests;",
											"",
											"email = `nelson${parseInt((Math.random() * 100), 10)}@mail.com`",
											"",
											"pm.sendRequest({",
											"    url: `${pm.environment.replaceIn('{{host}}')}/api/auth/sign_up`,",
											"    header: {",
											"        'Content-Type': 'application/json'",
											"    },",
											"    method: 'POST',",
											"    body: {",
											"        mode: 'raw',",
											"        raw: JSON.stringify({",
											"            \"email\": email,",
											"            \"password\": \"password1234\",",
											"            \"role\": \"organizer\"",
											"        })",
											"    }",
											"}, utils.create_user)",
											"",
											"pm.sendRequest({",
											"    url: `${pm.environment.replaceIn('{{host}}')}/api/mentors`,",
											"    method: 'GET',",
											"    header: {",
											"        'Content-Type': 'application/json',",
											"        'Cookie': `_bokken_key=${token}`",
											"    },",
											"}, utils.get_mentor);",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"organizer\": {\n        \"champion\":  \"{{$randomBoolean}}\",\n        \"user_id\": \"{{user_id}}\",\n        \"mentor_id\": \"{{mentor_id}}\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/organizers",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"organizers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update organizer",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"organizer\": {\n        \"champion\":  true\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/organizers/{{organizer_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"organizers",
										"{{organizer_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete organizer",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/api/organizers/{{organizer_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"organizers",
										"{{organizer_id}}"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Gamification",
			"item": [
				{
					"name": "Badges",
					"item": [
						{
							"name": "List Badges",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/badges/",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"badges",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Create a Badge",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"const { data: { id } } = pm.response.json();",
											"",
											"pm.environment.set(\"badge_id\", id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"badge\": {\n        \"name\": \"Built {{$randomInt}} projects\",\n        \"description\": \"Para o ninja que farta-se de criar projetos\",\n        \"image\": \"{{$randomAbstractImage}}\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/badges/",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"badges",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Update a Badge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"badge\": {\n        \"image\": \"{{$randomImageUrl}}\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/badges/{{badge_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"badges",
										"{{badge_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete a Badge",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/api/badges/{{badge_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"badges",
										"{{badge_id}}"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Ninjas",
					"item": [
						{
							"name": "Get a Ninja to work with",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"ninja_id = pm.response.json().data[0].id",
											"pm.environment.set(\"ninja_id\", ninja_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/ninjas",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"ninjas"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Badges given to a Ninja",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"badge_id\": \"1\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/ninjas/{{ninja_id}}/badges",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"ninjas",
										"{{ninja_id}}",
										"badges"
									]
								}
							},
							"response": []
						},
						{
							"name": "Give a badge to a Ninja",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"badge_id\": 2\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/ninjas/{{ninja_id}}/badges",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"ninjas",
										"{{ninja_id}}",
										"badges"
									]
								}
							},
							"response": []
						},
						{
							"name": "Remove a Badge from a Ninja",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/api/ninjas/{{ninja_id}}/badges/1",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"ninjas",
										"{{ninja_id}}",
										"badges",
										"1"
									]
								}
							},
							"response": []
						}
					]
				}
			],
			"description": "Requests referring to badges"
		},
		{
			"name": "Events",
			"item": [
				{
					"name": "Teams",
					"item": [
						{
							"name": "List teams",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"team_id = pm.response.json().data[1].id",
											"pm.environment.set(\"team_id\", team_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/teams",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"teams"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create a Team",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const { data: { id } } = pm.response.json();",
											"",
											"pm.environment.set(\"team_id\", id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"team\": {\n        \"name\": \"Yang {{$randomInt}}\",\n        \"description\": \"The best team is {{$name}}\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/teams/",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"teams",
										""
									]
								},
								"description": "Request that creates a new team."
							},
							"response": []
						},
						{
							"name": "Update a Team",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"team\": {\n        \"description\": \"Changing team description\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/teams/{{team_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"teams",
										"{{team_id}}"
									]
								},
								"description": "Change some element of a team"
							},
							"response": []
						},
						{
							"name": "Delete a Team",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/api/teams/{{team_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"teams",
										"{{team_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Associate a Ninja to a Team",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const token = pm.environment.get(\"token\");",
											"",
											"let utils = eval(pm.environment.get(\"utils\"))().requests;",
											"",
											"pm.sendRequest({",
											"    url: `${pm.environment.replaceIn('{{host}}')}/api/ninjas`,",
											"    method: 'GET',",
											"    header: {",
											"        'Content-Type': 'application/json',",
											"        'Cookie': `_bokken_key=${token}`",
											"    },",
											"}, utils.get_ninja);",
											"",
											"pm.sendRequest({",
											"    url: `${pm.environment.replaceIn('{{host}}')}/api/teams`,",
											"    method: 'GET',",
											"    header: {",
											"        'Content-Type': 'application/json',",
											"        'Cookie': `_bokken_key=${token}`",
											"    },",
											"}, utils.get_team);",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status is OK\", function(){",
											"    pm.response.to.have.status(201);",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n   \"ninja_id\": \"{{ninja_id}}\"\n} ",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/teams/{{team_id}}/ninjas",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"teams",
										"{{team_id}}",
										"ninjas"
									]
								}
							},
							"response": []
						},
						{
							"name": "Associate Mentor to Team",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const token = pm.environment.get(\"token\");",
											"",
											"let utils = eval(pm.environment.get(\"utils\"))().requests;",
											"",
											"",
											"pm.sendRequest({",
											"    url: `${pm.environment.replaceIn('{{host}}')}/api/mentors`,",
											"    method: 'GET',",
											"    header: {",
											"        'Content-Type': 'application/json',",
											"        'Cookie': `_bokken_key=${token}`",
											"    },",
											"}, utils.get_mentor);",
											"",
											"pm.sendRequest({",
											"    url: `${pm.environment.replaceIn('{{host}}')}/api/teams`,",
											"    method: 'GET',",
											"    header: {",
											"        'Content-Type': 'application/json',",
											"        'Cookie': `_bokken_key=${token}`",
											"    },",
											"}, utils.get_team);",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status is OK\", function(){",
											"    pm.response.to.have.status(201);",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n   \"mentor_id\": \"{{mentor_id}}\" \n} ",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/teams/{{team_id}}/mentors",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"teams",
										"{{team_id}}",
										"mentors"
									]
								}
							},
							"response": []
						},
						{
							"name": "Remove Mentor from Team",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/api/teams/{{team_id}}/mentors/{{mentor_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"teams",
										"{{team_id}}",
										"mentors",
										"{{mentor_id}}"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Locations",
					"item": [
						{
							"name": "Get locations",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/locations",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"locations"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create location",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"location_id = pm.response.json().data.id",
											"pm.environment.set(\"location_id\", location_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"location\": {\n        \"name\": \"{{$randomCity}}\",\n        \"address\": \"{{$randomStreetName}}\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/locations",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"locations"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update location",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"location\": {\n        \"name\": \"{{$randomCity}}\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/locations/{{location_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"locations",
										"{{location_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete location",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/api/locations/{{location_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"locations",
										"{{location_id}}"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Event",
					"item": [
						{
							"name": "List events",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/events",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"events"
									]
								}
							},
							"response": []
						},
						{
							"name": "Event to work with",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"event_id = pm.response.json().data[1].id",
											"pm.environment.set(\"event_id\", event_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/events",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"events"
									]
								}
							},
							"response": []
						},
						{
							"name": "Location to work with",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"location_id = pm.response.json().data[0].id",
											"pm.environment.set(\"location_id\", location_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/locations",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"locations"
									]
								}
							},
							"response": []
						},
						{
							"name": "Team to work with",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"team_id = pm.response.json().data[1].id",
											"pm.environment.set(\"team_id\", team_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/teams",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"teams"
									]
								}
							},
							"response": []
						},
						{
							"name": "Events by team",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/teams/{{team_id}}/events",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"teams",
										"{{team_id}}",
										"events"
									]
								}
							},
							"response": []
						},
						{
							"name": "Events by Location",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/locations/{{location_id}}/events",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"locations",
										"{{location_id}}",
										"events"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create an event",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"event_id = pm.response.json().data.id",
											"",
											"pm.environment.set(\"event_id\", event_id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"event\": {\n        \"title\": \"Special {{$randomInt}}\",\n        \"online\": \"{{$randomBoolean}}\",\n        \"location_id\": \"{{location_id}}\",\n        \"notes\": \"Great 73 event\",\n        \"team_id\": \"{{team_id}}\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/events",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"events"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update Event",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"event\": {\n        \"notes\": \"Changing event's notes on {{$isoTimestamp}}\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/events/{{event_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"events",
										"{{event_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete event",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{host}}/api/events/{{event_id}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"events",
										"{{event_id}}"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Hello, Bokken 👋",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Bokken API is running\", function(){",
							"    pm.response.to.have.status(200);",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{host}}/",
					"host": [
						"{{host}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"const token = pm.environment.get(\"token\");",
					"",
					"if (token) {",
					"  pm.request.headers.add({ key: \"Cookie\", value: `_bokken_key=${token}` });",
					"}",
					"",
					"pm.environment.set(\"utils\", `() => {",
					"    function get_random_index(values) {",
					"        return Math.floor(values.length * Math.random());",
					"    }",
					"",
					"    function setup_request(err, response, item) {",
					"        // Throw if we get an error",
					"        if (err) {",
					"            throw err;",
					"        }",
					"",
					"        // Handle error response",
					"        if (response.code >= 400) {",
					"            console.log(\\`PROBLEM :: \\${response.code} error while getting \\${item}.\\`);",
					"            console.log(response.text());",
					"",
					"            // Throw",
					"            throw new Error(\\`Couldn\\'t get \\${item}. Check console logs.\\`);",
					"        }",
					"    }",
					"    ",
					"    function create_user(err, response) {",
					"        if (err) {",
					"            throw err;",
					"        }",
					"",
					"        if (response.code >= 400) {",
					"            console.log(\\`PROBLEM :: \\${response.code} error while creating a new user.\\`);",
					"            console.log(response.text());",
					"",
					"            // Throw",
					"            throw new Error(\\`Check console logs.\\`);",
					"        }",
					"",
					"        const user = response.json();",
					"",
					"        pm.environment.set(\"user_id\", user.id);",
					"    }",
					"",
					"",
					"    function get_guardian(err, response) {",
					"        setup_request(err, response, \"guardian\");",
					"",
					"        // Store one guardian ID",
					"        const { data }= response.json();",
					"",
					"        const guardian_id = data[get_random_index(data)].id;",
					"",
					"        pm.environment.set(\"guardian_id\", guardian_id);",
					"    }",
					"",
					"    function get_ninja(err, response) {",
					"        setup_request(err, response, \"ninja\");",
					"",
					"        // Store one ninja ID",
					"        const { data }= response.json();",
					"",
					"        const ninja_id = data[get_random_index(data)].id;",
					"",
					"        pm.environment.set(\"ninja_id\", ninja_id);",
					"    }",
					"  ",
					"    function get_mentor(err, response) {",
					"        setup_request(err, response, \"mentor\");",
					"",
					"        // Store one ninja ID",
					"        const { data } = response.json();",
					"",
					"        const mentor_id = data[get_random_index(data)].id;",
					"",
					"        pm.environment.set(\"mentor_id\", mentor_id);",
					"    }",
					"",
					"    function get_team(err, response) {",
					"        setup_request(err, response, \"team\");",
					"    ",
					"        // Store one team ID",
					"        const { data } = response.json();",
					"",
					"        const team_id = data[get_random_index(data)].id;",
					"",
					"        pm.environment.set(\"team_id\", team_id);",
					"    }",
					"",
					"    return { ",
					"        requests: {",
					"            create_user,",
					"            get_guardian,",
					"            get_mentor,",
					"            get_ninja,",
					"            get_team",
					"        } ",
					"    }",
					"}`)",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}